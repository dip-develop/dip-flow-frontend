name: theteam
version: 1.0.0
summary: 'TheTeam: a tool for modern teams.'
description: |
  TheTeam is the ultimate solution for team management.
  Whether you are a freelancer, a developer, an HR manager, or a headhunter, you can benefit from our powerful and user-friendly application that lets you track time, create reports, manage projects, and more.
  You can access our service from any device and any operating system, and enjoy our beautiful graphs that visualize your progress and performance.
  Plus, if you are an individual user or a small team, you can use our service for free forever. No hidden fees, no strings attached.
  Join TheTeam today and take your team to the next level.
confinement: strict
icon: snap/gui/theteam.png
base: core18
grade: stable

architectures:
  - build-on: [ amd64 ]
  - build-on: [ arm64 ]

slots:
  dbus-protected-person-notes:
    interface: dbus
    bus: session
    name: run.theteam.app

apps:
  protected-person-notes:
    command: theteam
    extensions: [flutter-stable]
    plugs:
      - network
      - password-manager-service
      - home
      - mount-observe
      - desktop
    slots:
      - dbus-theteam
parts:
  protected-person-notes:
    source: .
    plugin: flutter
    flutter-target: lib/main.dart
    override-build: |
      flutter clean
      flutter pub get
      flutter pub run build_runner build -d
      snapcraftctl build
    build-packages:
      - libsecret-1-dev
      - libjsoncpp-dev
    stage-packages:
      - libjsoncpp-dev
      - libsecret-1-dev
      - libgnome-keyring-common
      - libgnome-keyring0
      